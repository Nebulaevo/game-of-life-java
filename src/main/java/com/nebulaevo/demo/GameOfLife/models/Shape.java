package com.nebulaevo.demo.GameOfLife.models;

/**
 * Class defining text based shape template 
 * and helpers to handle them.
 * <p>
 * The shapes are defined by rows, each string being a row.
 * Alive cells are represented by a "O" character.
 */
public class Shape {
	public final static String[] GLIDER = {
		"-----",
		"---O-",
		"-O-O-",
		"--OO-",
		"-----",
	};
	
	public final static String[] GLIDER_GUN = {
		"--------------------------------------",
		"-------------------------O------------",
		"-----------------------O-O------------",
		"-------------OO------OO------------OO-",
		"------------O---O----OO------------OO-",
		"-OO--------O-----O---OO---------------",
		"-OO--------O---O-OO----O-O------------",
		"-----------O-----O-------O------------",
		"------------O---O---------------------",
		"-------------OO-----------------------",
		"--------------------------------------",
	};
	
	public final static String[] P_80_GLIDERLESS_HWSS_GUN = {
		"---------------------------",
		"-----------OOO-------------",
		"--------------O------------",
		"----------O---O------------",
		"---------O-O--O------------",
		"-------O--O-O--------------",
		"-------O---O---------------",
		"-------O----------------OO-",
		"--------OOO-------------O--",
		"----------------------O-O--",
		"-OO--O----------------OO---",
		"-O--OO---------------------",
		"--OOOOO--------O-----------",
		"--------------O-OO---------",
		"--------------O-O----------",
		"--OOOOO--------O-----------",
		"-O--OO---------------------",
		"-OO--O---------------------",
		"---------------------------",
		"---------------------------",
		"---------------------------",
		"-------OO------------------",
		"--------O------------------",
		"--------O-O----------------",
		"---------OO----------------",
		"-----OO--------------------",
		"------O--------------------",
		"------O-O------------------",
		"-------OO------------------",
		"---------------------------",
		"----------OO---------------",
		"----------OO---------------",
		"---------------------------",
		"---------------------------",
		"---------------------------",
		"---------------------------",
		"-----O--O-O----------------",
		"---OO-O-OOO----------------",
		"----O------O---------------",
		"---OO-----O----------------",
		"----------------OO---------",
		"----O-----OO---O-O---------",
		"---O------O-----O----------",
		"----OOO-O-OO---------------",
		"----O-O--O-----------------",
		"---------------------------",
	};
	
	public final static String[] MAX = {
		"-----------------------------",
		"-------------------O---------",
		"------------------OOO--------",
		"-------------OOO----OO-------",
		"------------O--OOO--O-OO-----",
		"-----------O---O-O--O-O------",
		"-----------O----O-O-O-O-OO---",
		"-------------O----O-O---OO---",
		"-OOOO-----O-O----O---O-OOO---",
		"-O---OO-O-OOO-OO---------OO--",
		"-O-----OO-----O--------------",
		"--O--OO-O--O--O-OO-----------",
		"--------O-O-O-o-O-O-----OOOO-",
		"--O--OO-O--O--O--OO-O-OO---O-",
		"-O-----OO---O-O-O---OO-----O-",
		"-O---OO-O-OO--O--O--O-OO--O--",
		"-OOOO-----O-O-O-O-O-O--------",
		"-----------OO-O--O--O-OO--O--",
		"--------------O-----OO-----O-",
		"--OO---------OO-OOO-O-OO---O-",
		"---OOO-O---O----O-O-----OOOO-",
		"---OO---O-O----O-------------",
		"---OO-O-O-O-O----O-----------",
		"------O-O--O-O---O-----------",
		"-----OO-O--OOO--O------------",
		"-------OO----OOO-------------",
		"--------OOO------------------",
		"---------O-------------------",
		"-----------------------------"
	};
	
	/**
	 * Computes the dimensions of a given shape template.
	 *
	 * @param shape
	 *        Array of strings representing the shape.
	 * @return the size of the shape, where width is the length of the first row
	 *         and height is the number of rows.
	 */
	public static Size sizeOf(final String[] shape) {
		if (shape.length ==0) return new Size(0,0);
		
		int width = shape[0].length();
		int height = shape.length;
		return new Size(width, height);
	}
	
	/** Returns true if the given character is the one used to represent a cell */
	public static boolean isCellChar(final char c) { return c=='O' || c=='o'; }
}
